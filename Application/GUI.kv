#: import hex kivy.utils.get_color_from_hex
<GUI>:
    canvas.before:
        Color:
            #rgba: hex('#2600E5')
            rgba: hex('#006831')

        Rectangle:
            pos: self.pos
            size: self.size
    orientation: 'vertical'
    BoxLayout:
        size_hint_y: .05
        orientation: 'horizontal'
        Label:
            text:'NOX_LVTE'
            size_hint_x: .40
            font_size: 20
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            padding_x: 10

        Button:
            text: 'Informe'
            size_hint_x: .15
        Button:
            text: 'Acerca de'
            size_hint_x: .15
        Spinner:
            size_hint_x: .15
            id: spinner_id
            text: "Datos"
            values: ["CQE","Generador de Vapor","Porcentaje de Carga","Gases"]
            tooltip_text: "Selecciona una opción"

            on_text: root.menuSeleccionado(spinner_id.text)
    BoxLayout:
        canvas.before:
            Color:
                rgba: hex('#FFFFFF')
            Rectangle:
                pos: self.pos
                size: self.size
        size_hint_y: .90
        orientation: 'horizontal'
        GridLayout:
            rows: 3
            cols: 3
            size_hint_x: .85
        
            Image:
                source: 'img/utelvte.png'
            
            Label:
                text:'NOX_LVTE'
                font_size: 40
                color: 0 , 0 , 0 , 1
            Image:
                source: 'img/faci.png'
            Label:
                size_hint_y: .7
                text:' '
            Label:
                text:'SOFTWARE PARA EL CALCULO DE EMISIONES DE NOX EN HORNOS DE TERMOELECTRICAS'
                color: 0 , 0 , 0 , 1
            Label:
                text:' '
            Label:
                text: ''
        GridLayout:
            rows: 4
            cols: 1
            size_hint_x: .15
            Button:
                text: 'Calculo Volumen/Aire'
                tooltip_text: "Selecciona una opción"

            Button:
                text: 'Eficencia'
            Button:
                text: 'Calculo termico del horno'
            Button:
                text: 'Calculo NOX'

    BoxLayout:
        canvas.before:
            Color:
                rgba: hex('#FFFFFF')
        size_hint_y: .05
        orientation: 'horizontal'
        GridLayout:
            rows: 2
            cols: 2
            size_hint_x: .65
            Label:
                text:'Fecha:'
            Label:
                id: fecha
            Label:
                text:'Hora:'
            Label:
                id: hora
        Label:
            text:'© Derechos reservados UTLVTE 2023 ©'
            halign: 'right'
            valign: 'middle'
            padding_x: 10
            font_size: 20
            text_size: self.size
            size_hint_x: .35


<GdV>:
    title: "Generador de Vapor"
    size_hint: .5, .5
    auto_dismiss: False
    BoxLayout:
        size_hint_y: 1
        GridLayout:
            cols:1
            rows:2
            size_hint_y: 1
            GridLayout:
                cols:2
                rows:6
                Label:
                    text:'Capacidad de generación'
                TextInput:
                    id: CG
                    text:'0.0'
                Label:
                    text:'Eficiencia de generador de vapor'
                TextInput:
                    id: EGV
                    text:'0.0'
                Label:
                    text:'Presión de vapor máxima'
                TextInput:
                    id: PVM
                    text:'0.0'
                Label:
                    text:'Coeficiente de exceso de aire en el horno α'
                TextInput:
                    id: CEAH
                    text:'0.0'
            GridLayout:
                cols:2
                rows:1
                size_hint_y: .2
                Button:
                    text: 'Guardar Cambios'
                    on_press: root.guardar()
                    size_hint_y: .1
                Button:
                    text: 'Cerrar'
                    on_press: root.dismiss()
                    size_hint_y: .1

<PdC>:
    title: "Porcentaje de Carga"
    auto_dismiss: False
    BoxLayout:
        orientation: 'vertical'
        ScrollView:
            size: self.size
            do_scroll_x: False
            do_scroll_y: True
            size_hint_y: .95
            GridLayout:
                size_hint_y: None
                height: self.minimum_height
                width: self.minimum_width
                cols:4
                row_default_height: 50
                Label:
                    text:'Temperaturas precalentador de aire °C'
                Label:
                    text:'50%'
                Label:
                    text:'75%'
                Label:
                    text:'100%'
                Label:
                    text:'A la entrada'
                TextInput:
                    id: PCAE_C
                    text:'0.0'
                TextInput:
                    id: PCAE_S
                    text:'0.0'
                TextInput:
                    id: PCAE_CI
                    text:'0.0'
                Label:
                    text:'A la salida'
                TextInput:
                    id: PCAS_C
                    text:'0.0'
                TextInput:
                    id: PCAS_S
                    text:'0.0'
                TextInput:
                    id: PCAS_CI
                    text:'0.0'
                Label:
                    text: 'Flujo de vapor de precalentamiento kg/h'
                TextInput:
                    id: PCFV_C
                    text:'0.0'
                TextInput:
                    id: PCFV_S
                    text:'0.0'
                TextInput:
                    id: PCFV_CI
                    text:'0.0'
                Label:
                    text: 'Presión de vapor de precalentamiento kg/cm2'
                TextInput:
                    id: PCPVP_C
                    text:'0.0'
                TextInput:
                    id: PCPVP_S
                    text:'0.0'
                TextInput:
                    id: PCPVP_CI
                    text:'0.0'
                Label:
                    text: 'Temperatura del vapor de precalentamiento °C'
                TextInput:
                    id: PCTVP_C
                    text:'0.0'
                TextInput:
                    id: PCTVP_S
                    text:'0.0'
                TextInput:
                    id: PCTVP_CI
                    text:'0.0'
                Label:
                    text: 'Flujo de vapor sobrecalentado kg/h'
                TextInput:
                    id: PCFVS_C
                    text:'0.0'
                TextInput:
                    id: PCFVS_S
                    text:'0.0'
                TextInput:
                    id: PCFVS_CI
                    text:'0.0'
                Label:
                    text: 'Temperatura vapor sobrecalentado °C'
                TextInput:
                    id: PCTVS_C
                    text:'0.0'
                TextInput:
                    id: PCTVS_S
                    text:'0.0'
                TextInput:
                    id: PCTVS_CI
                    text:'0.0'
                Label:
                    text: 'Temperatura del agua de alimentar °C'
                TextInput:
                    id: PCTAA_C
                    text:'0.0'
                TextInput:
                    id: PCTAA_S
                    text:'0.0'
                TextInput:
                    id: PCTAA_CI
                    text:'0.0'
                Label:
                    text:'Flujo de combustible kg/s'
                TextInput:
                    id: PCFC_C
                    text:'0.0'
                TextInput:
                    id: PCFC_S
                    text:'0.0'
                TextInput:
                    id: PCFC_CI
                    text:'0.0'
                Label:
                    text:'Numero de quemadores'
                TextInput:
                    id: PCNQ_C
                    text:'0.0'
                TextInput:
                    id: PCNQ_S
                    text:'0.0'
                TextInput:
                    id: PCNQ_CI
                    text:'0.0'
                Label:
                    text:'Flujo de vapor de atomización kg/kg'
                TextInput:
                    id: PCFVA_C
                    text:'0.0'
                TextInput:
                    id: PCFVA_S
                    text:'0.0'
                TextInput:
                    id: PCFVA_CI
                    text:'0.0'
                Label:
                    text:'Presión de vapor de atomización kg/cm2'
                TextInput:
                    id: PCPVA_C
                    text:'0.0'
                TextInput:
                    id: PCPVA_S
                    text:'0.0'
                TextInput:
                    id: PCPVA_CI
                    text:'0.0'
                Label:
                    text:'Presión de vapor de atomización kPa'
                TextInput:
                    id: PCPVAK_C
                    text:'0.0'
                TextInput:
                    id: PCPVAK_S
                    text:'0.0'
                TextInput:
                    id: PCPVAK_CI
                    text:'0.0'
                Label:
                    text:'Entalpia de vapor Saturado kJ/kg'
                TextInput:
                    id: PCEVS_C
                    text:'0.0'
                TextInput:
                    id: PCEVS_S
                    text:'0.0'
                TextInput:
                    id: PCEVS_CI
                    text:'0.0'
                Label:
                    text:'Entalpia de liquido Saturado kJ/kg'
                TextInput:
                    id: PCELS_C
                    text:'0.0'
                TextInput:
                    id: PCELS_S
                    text:'0.0'
                TextInput:
                    id: PCELS_CI
                    text:'0.0'
                Label:
                    text:'Entalpia de vapor precalentado °C'
                TextInput:
                    id: PCEVP_C
                    text:'0.0'
                TextInput:
                    id: PCEVP_S
                    text:'0.0'
                TextInput:
                    id: PCEVP_CI
                    text:'0.0'
                Label:
                    text:'Entalpia de vapor sobrecalentado Kj/kg'
                TextInput:
                    id: PCES_C
                    text:'0.0'
                TextInput:
                    id: PCES_S
                    text:'0.0'
                TextInput:
                    id: PCES_CI
                    text:'0.0'
                Label:
                    text:'Presión en el domo kg/cm2'
                TextInput:
                    id: PCPD_C
                    text:'0.0'
                TextInput:
                    id: PCPD_S
                    text:'0.0'
                TextInput:
                    id: PCPD_CI
                    text:'0.0'
                Label:
                    text:'Entalpia del agua de alimentación kJ/kg'
                TextInput:
                    id: PCEAA_C
                    text:'0.0'
                TextInput:
                    id: PCEAA_S
                    text:'0.0'
                TextInput:
                    id: PCEAA_CI
                    text:'0.0'
                Label:
                    text:'Flujo de vapor soplador hollin kg/h'
                TextInput:
                    id: PCFVSH_C
                    text:'0.0'
                TextInput:
                    id: PCFVSH_S
                    text:'0.0'
                TextInput:
                    id: PCFVSH_CI
                    text:'0.0'
                Label:
                    text:'Tempertura de vapor sopladorores °C'
                TextInput:
                    id: PCTVSH_C
                    text:'0.0'
                TextInput:
                    id: PCTVSH_S
                    text:'0.0'
                TextInput:
                    id: PCTVSH_CI
                    text:'0.0'
                Label:
                    text:'Presion del vapor soplador °C'
                TextInput:
                    id: PCPVSH_C
                    text:'0.0'
                TextInput:
                    id: PCPVSH_S
                    text:'0.0'
                TextInput:
                    id: PCPVSH_CI
                    text:'0.0'
                Label:
                    text:'Entalpia del vapor soplador kJ/kg'
                TextInput:
                    id: PCEVSO_C
                    text:'0.0'
                TextInput:
                    id: PCEVSO_S
                    text:'0.0'
                TextInput:
                    id: PCEVSO_CI
                    text:'0.0'
                Label:
                    text:'Temperatura de los gases de recirculacion °C'
                TextInput:
                    id: PCTGR_C
                    text:'0.0'
                TextInput:
                    id: PCTGR_S
                    text:'0.0'
                TextInput:
                    id: PCTGR_CI
                    text:'0.0'
                Label:
                    text:'Entalpia de los gases de recirculacion kJ/kg'
                TextInput:
                    id: PCEGR_C
                    text:'0.0'
                TextInput:
                    id: PCEGR_S
                    text:'0.0'
                TextInput:
                    id: PCEGR_CI
                    text:'0.0'
                Label:
                    text:'Indice de recirculacion'
                TextInput:
                    id: PCIR_C
                    text:'0.0'
                TextInput:
                    id: PCIR_S
                    text:'0.0'
                TextInput:
                    id: PCIR_CI
                    text:'0.0'
        GridLayout:
            cols:2
            rows:1
            size_hint_y: .05
            Button:
                text:"Guardar Cambios"
                on_release: root.guardar()
            Button:
                text:"Salir"
                on_release: root.dismiss()

<CQEPopup>:
    id:Popup
    title: 'Composición Química del Elemental'
    size_hint: 1, .7
    auto_dismiss: False
    BoxLayout:
        GridLayout:
            rows:2
            cols:2
            size_hint_y:1
            GridLayout:
                cols: 2
                rows: 8
                Label:
                    text: 'C'
                TextInput:
                    id: C
                    text: '0.0'
                Label:
                    text: 'H'
                TextInput:
                    id: H
                    text: '0.0'
                Label:
                    text: 'S'
                TextInput:
                    id: S
                    text: '0.0'
                Label:
                    text: 'O'
                TextInput:
                    id: O
                    text: '0.0'
                Label:
                    text: 'N'
                TextInput:
                    id: N
                    text: '0.0'
                Label:
                    text: 'W'
                TextInput:
                    id: W
                    text: '0.0'
                Label:
                    text: 'A'
                TextInput:
                    id: A
                    text: '0.0'
                Label:
                    text: 'Total'
                Label:
                    id: Total
                    text: '0.0'
            GridLayout:
                rows:9
                cols:2
                size_hint_y:.5
                Label:
                    text: "Temperatura media de fuel Oil"
                TextInput:
                    id:TMFO
                    text: '0.0'
                    size_hint_y:.15
                Label:
                    text: "Flujo de vapor de atomización Gf"
                TextInput:
                    id:FVAGF
                    text: '0.0'
                    size_hint_y:.15
                Label:
                    text: "Poder calórico del combustible"
                TextInput:
                    id:PCC
                    text: '0.0'
                    size_hint_y:.15
                Label:
                    text: "Poder calórico inferior del combustible		"
                TextInput:
                    id:PCIC
                    text: '0.0'
                    size_hint_y:.15
                Label:
                    text: "Temperatura del fuel oil °C"
                TextInput:
                    id:TFO
                    text: '0.0'
                    size_hint_y:.15
                Label:
                    text: "Calor especifico del fuel oil kJ/kg K"
                TextInput:
                    id:CEFO
                    text: '0.0'
                    size_hint_y:.15
            Button:
                text: 'Guardar Cambios'
                on_press: root.guardar()
                size_hint_y:.1
            Button:
                text: 'Cerrar'
                on_press: root.dismiss()
                size_hint_y: .1

<Gases>:
    title: "Gases"
    size_hint: 1,1
    auto_dismiss: False
    BoxLayout:
        orientation:'vertical'
        size_hint: 1,1
        GridLayout:
            cols: 2
            rows: 1
            size_hint_x: 1
            size_hint_y: .95
            GridLayout:
                cols: 3
                size_hint_x: .3
                rows: 6
                Label:
                    text: 'V°'
                Label:
                    id: GAS_VTANC
                    text:'0.0'
                Label:
                    text:'m3/kg'
                Label:
                    text: 'Vr°2'
                Label:
                    id: GAS_VGT
                    text:'0.0'
                Label:
                    text:'m3/kg'
                Label:
                    text: 'Vn°2'
                Label:
                    id: GAS_VNT
                    text:'0.0'
                Label:
                    text:'m3/kg'
                Label:
                    text: 'V°h2'
                Label:
                    id: GAS_VTVA
                    text:'0.0'
                Label:
                    text:'m3/kg'
                Label:
                    text: 'Vg°'
                Label:
                    id: GAS_VTGPC
                    text:'0.0'
                Label:
                    text:'m3/kg'

            GridLayout:
                cols: 2
                rows:9
                Label:
                    text:"Masa de los productos de Combustión"
                Label:
                    id: GAS2_MPC
                    text: "0.0"
                Label:
                    text:"Volumen real de los gases de producto de los gases producto de la combustión"
                Label:
                    id: GAS2_VRGPGPC
                    text: "0.0"
                Label:
                    text:"Volumen real del vapor de agua"
                Label:
                    id: GAS2_VRPA
                    text: "0.0"
                Label:
                    text:"Volumen de gases de reciculación de gases"
                Label:
                    id: GAS2_VGRG
                    text: "0.0"
                Label:
                    text:"Volumen total de gases producto de la combustión"
                Label:
                    id: GAS2_VTGPC
                    text: "0.0"
                
                Label:
                    text:"Fracción de volumen de gases triatómicos"
                Label:
                    id: GAS2_FVGT
                    text: "0.0"    
                Label:
                    text:"Fracción de volumen de vapor de agua"
                Label:
                    id: GAS2_FVVA
                    text: "0.0"
                Label:
                    text:"Fracción de volumen total"
                Label:
                    id: GAS2_FVT
                    text: "0.0"
                Label:
                    text:"Volumen de gases secos"
                Label:
                    id: GAS2_VGS
                    text: "0.0"
                    
        GridLayout:
            cols:2
            rows:1
            size_hint_y: .05
            Button:
                text:"Guardar Cambios"
                on_release: root.guardar()
            Button:
                text:"Salir"
                on_release: root.dismiss()
